<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BobaCats vs Eternity - Enhanced Guild Stats Dashboard</title>

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <div>
          <h1>Guild Battle Stats: BobaCats vs Eternity</h1>
          <p>Enhanced dashboard to analyze performance across matches</p>
        </div>
        <div class="button-group">
          <button id="exportButton">Export Data</button>
        </div>
      </header>

      <div class="panels">
        <div class="panel">
          <h2>
            Guild Overview
            <div>
              <span id="overviewDate">All Matches</span>
              <div style="display: inline-block; margin-left: 10px">
                <span class="field-indicator field-main-indicator"></span>Main
                <span
                  class="field-indicator field-secondary-indicator"
                  style="margin-left: 10px"
                ></span
                >Secondary
              </div>
            </div>
          </h2>

          <div class="tab-container">
            <div class="tab active" data-tab="summary">Summary</div>
            <div class="tab" data-tab="comparison">Comparison</div>
            <div class="tab" data-tab="topPlayers">Top Players</div>
          </div>

          <div class="tab-content active" id="summary">
            <div class="stats-card">
              <div class="stat-item">
                <div class="stat-value" id="bbcTotalScore">0</div>
                <div class="stat-label">BobaCats Total Score</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="eternityTotalScore">0</div>
                <div class="stat-label">Eternity Total Score</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="scoreDifference">0</div>
                <div class="stat-label">Score Difference</div>
              </div>
            </div>

            <div class="stats-card">
              <div class="stat-item">
                <div class="stat-value" id="bbcPlayerCount">0</div>
                <div class="stat-label">BobaCats Players</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="eternityPlayerCount">0</div>
                <div class="stat-label">Eternity Players</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="bbcAvgScore">0</div>
                <div class="stat-label">Avg Score (BBC)</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="eternityAvgScore">0</div>
                <div class="stat-label">Avg Score (Eternity)</div>
              </div>
            </div>

            <h3>Performance Summary</h3>
            <div class="progress-container">
              <div class="progress-bar progress-bbc" id="guildProgress"></div>
            </div>
            <div
              style="
                display: flex;
                justify-content: space-between;
                font-size: 12px;
              "
            >
              <span>BobaCats</span>
              <span>Eternity</span>
            </div>

            <div class="strategy-panel">
              <h3>Strategy Recommendations</h3>
              <ul id="strategyList">
                <li>Loading strategies...</li>
              </ul>
            </div>
          </div>

          <div class="tab-content" id="comparison">
            <h3>Guild Performance Comparison</h3>
            <div class="bar-chart">
              <div class="bar-container">
                <div class="bar-pair">
                  <div class="bar bar-bbc" id="killsBarBBC"></div>
                  <div class="bar bar-eternity" id="killsBarEternity"></div>
                </div>
                <div class="bar-label">Kills</div>
              </div>
              <div class="bar-container">
                <div class="bar-pair">
                  <div class="bar bar-bbc" id="assistsBarBBC"></div>
                  <div class="bar bar-eternity" id="assistsBarEternity"></div>
                </div>
                <div class="bar-label">Assists</div>
              </div>
              <div class="bar-container">
                <div class="bar-pair">
                  <div class="bar bar-bbc" id="deathsBarBBC"></div>
                  <div class="bar bar-eternity" id="deathsBarEternity"></div>
                </div>
                <div class="bar-label">Deaths</div>
              </div>
              <div class="bar-container">
                <div class="bar-pair">
                  <div class="bar bar-bbc" id="bossBarBBC"></div>
                  <div class="bar bar-eternity" id="bossBarEternity"></div>
                </div>
                <div class="bar-label">Boss</div>
              </div>
              <div class="bar-container">
                <div class="bar-pair">
                  <div class="bar bar-bbc" id="monstersBarBBC"></div>
                  <div class="bar bar-eternity" id="monstersBarEternity"></div>
                </div>
                <div class="bar-label">Monsters</div>
              </div>
            </div>

            <h3>Key Stats Comparison</h3>
            <div class="stats-card">
              <div class="stat-item">
                <div class="stat-value" id="bbcKDARatio">0</div>
                <div class="stat-label">BBC K/D/A Ratio</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="eternityKDARatio">0</div>
                <div class="stat-label">Eternity K/D/A Ratio</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="bbcTopKills">0</div>
                <div class="stat-label">BBC Top Kills</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="eternityTopKills">0</div>
                <div class="stat-label">Eternity Top Kills</div>
              </div>
            </div>
          </div>

          <div class="tab-content" id="topPlayers">
            <h3>Top Performers</h3>
            <div class="top-players" id="topPlayersContainer">
              <!-- Top players cards will be inserted here -->
            </div>
          </div>
        </div>
      </div>

      <div class="data-controls">
        <div style="display: flex; gap: 10px; flex-wrap: wrap; width: 100%">
          <div class="search-container">
            <input
              type="text"
              id="playerSearch"
              placeholder="Search player..."
            />
            <span class="search-icon">üîç</span>
          </div>
          <select id="guildFilter">
            <option value="all">All Guilds</option>
            <option value="BobaCats">BobaCats Only</option>
            <option value="Eternity">Eternity Only</option>
          </select>
          <select id="fieldFilter">
            <option value="all">All Fields</option>
            <option value="main">Main Field</option>
            <option value="secondary">Secondary Field</option>
          </select>
          <select id="statFilter">
            <option value="all">All Stats</option>
            <option value="kills">High Kills</option>
            <option value="assists">High Assists</option>
            <option value="kda">Best K/D/A Ratio</option>
            <option value="score">Top Score</option>
          </select>
        </div>
        <div
          style="
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            width: 100%;
            margin-top: 10px;
          "
        >
          <div class="date-range">
            <label for="dateRange">Date Filter:</label>
            <select id="dateFilter">
              <option value="all">All Matches</option>
              <option value="latest">Latest Match</option>
              <option value="custom">Custom Range</option>
            </select>
            <input type="date" id="startDate" disabled />
            <span>to</span>
            <input type="date" id="endDate" disabled />
          </div>
          <button id="resetFilters">Reset Filters</button>
        </div>
      </div>

      <div class="panels">
        <div class="panel">
          <h2>
            <span id="tableTitle">All Players</span>
            <span id="tableCount" class="pill pill-bbc">0 players</span>
          </h2>

          <div style="overflow-x: auto">
            <table class="players-table" id="playersTable">
              <thead>
                <tr>
                  <th data-sort="name">Name</th>
                  <th data-sort="guild">Guild</th>
                  <th data-sort="field">Field</th>
                  <th data-sort="match">Match Date</th>
                  <th data-sort="monsters">Monsters</th>
                  <th data-sort="boss">Boss</th>
                  <th data-sort="kills">Kills</th>
                  <th data-sort="assists">Assists</th>
                  <th data-sort="deaths">Deaths</th>
                  <th data-sort="kda">K/D/A Ratio</th>
                  <th data-sort="score" class="desc">Score</th>
                </tr>
              </thead>
              <tbody id="playersTableBody">
                <!-- Table rows will be inserted here -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="tooltip" id="tooltip"></div>
    <script type="module" src="script.js"></script>
  </body>
</html>
